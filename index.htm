<!DOCTYPE html>
<html>
	<body>
		<table id="table"></table>
		<script>
			requestXML()
			setInterval(function(){ requestXML(); }, 2000);
			function requestXML() {
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						printXML(this);
					}
				};
				xhttp.open("GET", "COM_Q.xml", true);
				xhttp.send();
			}
			function printXML(xml) {
				var i;
				var xmlDoc = xml.responseXML;
				var table="<tr><th>Chave</th><th>Valores</th></tr>";
				var nodes = xmlDoc.getElementsByTagName("COM_Q")[0].childNodes;
				for (i = 0; i < nodes.length; i++) {
					if (nodes[i].nodeName == "#text")
						continue;
					var name = nodes[i].nodeName;
					var value = (nodes[i].childNodes[0] || {}).nodeValue;
					value = value == undefined ? "Nao definido" : value;
					table += "<tr><td>" + name + "</td><td>" + value + "</td></tr>";
				}
				document.getElementById("table").innerHTML = table;
			}
		</script>
	</body>
</html>
